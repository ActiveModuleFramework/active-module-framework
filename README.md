# Active Module Framework

## 用途

- Node.js上で動的モジュール形式のWebシステム開発を行うためのフレームワーク
- フロントエンドとバックエンドの通信を最小限の記述で実現できます

## ライセンス
- MITライセンス 

## 動作ブラウザ
- 一般的なブラウザ(IE11でも動作可能)

## 使用技術
- Node.js 10系統
- TypeScript 3系統
  
## 使い方

- 初期ファイルの設置
```
node_modules/.bin/amf-init
```

- Build
```
tsc -b
```

- Watch
```
tsc -b -w
```

- 起動(起点ファイル)
```
node dist/app/index.js
```

- 動作確認用初期アドレス
```
http://localhost:8080/
```

## 初期ファイル設置後のディレクトリ構成

- /
  - dist (出力ファイルディレクトリ)
    - app (バックエンド用コンパイル済みディレクトリ)
      - modules (コンパイル済みモジュール)
    - db (ローカルデータベース用ディレクトリ)
    - public (フロントエンド用ファイルディレクトリ)
    - sock (UNIXドメインソケット用ディレクトリ) 
  - src (ソースコード類)
    - app (バックエンド用プログラムソース)
      - index.ts (バックエンド初期パラメータ設定用)
    - modules (モジュールフォルダ)
    - public (フロントエンド用ディレクトリ)
      - main (フロントエンド用メインソース)
  
基本的に編集するのは**src**ディレクトリ内のファイルとなります  

nginxと連携させる場合、UNIXドメインソケットはsockに入っています  
また、nginxから**public**を直接参照するように設定しておけば、Node.jsの負荷が減ります
